(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var i=t.g.document;if(!e&&i&&(i.currentScript&&(e=i.currentScript.src),!e)){var n=i.getElementsByTagName("script");if(n.length)for(var l=n.length-1;l>-1&&!e;)e=n[l--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();class e{constructor(t){this.playingField=t}movieGoblin(){const t=function(t){const e=t.querySelectorAll(".cell"),i=t.querySelector(".img-cell");let n="";for(i&&(n=i.closest(".cell"));;){const t=(1,l=e.length,Math.floor(Math.random()*(l-1))+1);if(e[t]!==n)return e[t]}var l}(this.playingField),e=this.playingField.querySelector(".img-cell");e&&(e.closest(".cell").innerHTML="");const i=document.createElement("img");i.setAttribute("src","./images/goblin.png"),i.setAttribute("class","img-cell"),t.insertAdjacentElement("afterbegin",i)}}class i{constructor(t,e){this.playingField=t,this.fullCountHit=0,this.countSuccess=0,this.hitGoblin=this.hitGoblin.bind(this),this.playingField.addEventListener("click",this.hitGoblin),this.moving=e}hitGoblin(t){const e=t.target;e.classList.contains("img-cell")?(this.countSuccess+=1,e.closest(".cell").innerHTML="",document.querySelector(".count").innerText=this.countSuccess):this.fullCountHit+=1,5===this.fullCountHit&&(document.querySelector(".info").innerText="Игра окончена",clearInterval(this.moving),this.playingField.removeEventListener("click",this.hitGoblin))}}document.addEventListener("DOMContentLoaded",(()=>{const t=new e(document.querySelector(".table")),n=setInterval((()=>{t.movieGoblin()}),1e3);return new i(document.querySelector(".table"),n)})),t.p})();